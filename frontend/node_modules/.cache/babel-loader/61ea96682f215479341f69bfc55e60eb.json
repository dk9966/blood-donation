{"ast":null,"code":"import _toConsumableArray from\"/Users/DK/Projects/cardmongo/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/Users/DK/Projects/cardmongo/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/DK/Projects/cardmongo/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/DK/Projects/cardmongo/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/DK/Projects/cardmongo/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3,_templateObject4;import{useState}from'react';import Button from'@material-ui/core/Button';import FormControl from'@material-ui/core/FormControl';import FormControlLabel from'@material-ui/core/FormControlLabel';import Paper from'@material-ui/core/Paper';import Radio from'@material-ui/core/Radio';import RadioGroup from'@material-ui/core/RadioGroup';import styled from'styled-components';import TextField from'@material-ui/core/TextField';import Typography from'@material-ui/core/Typography';import{useStyles}from'../hooks';import axios from'../api';import{useScoreCard}from'../hooks/useScoreCard';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Wrapper=styled.section(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n\"])));var Row=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  width: 100%;\\n  padding: 1em;\\n\"])));var StyledFormControl=styled(FormControl)(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  min-width: 120px;\\n\"])));var ContentPaper=styled(Paper)(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  height: 300px;\\n  padding: 2em;\\n  overflow: auto;\\n\"])));var Body=function Body(){var classes=useStyles();var _useScoreCard=useScoreCard(),messages=_useScoreCard.messages,addCardMessage=_useScoreCard.addCardMessage,addRegularMessage=_useScoreCard.addRegularMessage,addErrorMessage=_useScoreCard.addErrorMessage;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),subject=_useState4[0],setSubject=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),score=_useState6[0],setScore=_useState6[1];var _useState7=useState('name'),_useState8=_slicedToArray(_useState7,2),queryType=_useState8[0],setQueryType=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),queryString=_useState10[0],setQueryString=_useState10[1];var handleChange=function handleChange(func){return function(event){func(event.target.value);};};var handleAdd=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$post,_yield$axios$post$dat,message,card;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post('/api/create-card',{name:name,subject:subject,score:score});case 2:_yield$axios$post=_context.sent;_yield$axios$post$dat=_yield$axios$post.data;message=_yield$axios$post$dat.message;card=_yield$axios$post$dat.card;if(!card)addErrorMessage(message);else addCardMessage(message);case 7:case\"end\":return _context.stop();}}},_callee);}));return function handleAdd(){return _ref.apply(this,arguments);};}();var handleQuery=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _yield$axios$get,_yield$axios$get$data,messages,message;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get('/api/query-cards',{params:{type:queryType,queryString:queryString}});case 2:_yield$axios$get=_context2.sent;_yield$axios$get$data=_yield$axios$get.data;messages=_yield$axios$get$data.messages;message=_yield$axios$get$data.message;if(!messages)addErrorMessage(message);else addRegularMessage.apply(void 0,_toConsumableArray(messages));case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function handleQuery(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Wrapper,{children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(TextField,{className:classes.input,placeholder:\"Name\",value:name,onChange:handleChange(setName)}),/*#__PURE__*/_jsx(TextField,{className:classes.input,placeholder:\"Subject\",style:{width:240},value:subject,onChange:handleChange(setSubject)}),/*#__PURE__*/_jsx(TextField,{className:classes.input,placeholder:\"Score\",value:score,onChange:handleChange(setScore),type:\"number\"}),/*#__PURE__*/_jsx(Button,{className:classes.button,variant:\"contained\",color:\"primary\",disabled:!name||!subject,onClick:handleAdd,children:\"Add\"})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(StyledFormControl,{children:/*#__PURE__*/_jsx(FormControl,{component:\"fieldset\",children:/*#__PURE__*/_jsxs(RadioGroup,{row:true,value:queryType,onChange:handleChange(setQueryType),children:[/*#__PURE__*/_jsx(FormControlLabel,{value:\"name\",control:/*#__PURE__*/_jsx(Radio,{color:\"primary\"}),label:\"Name\"}),/*#__PURE__*/_jsx(FormControlLabel,{value:\"subject\",control:/*#__PURE__*/_jsx(Radio,{color:\"primary\"}),label:\"Subject\"})]})})}),/*#__PURE__*/_jsx(TextField,{placeholder:\"Query string...\",value:queryString,onChange:handleChange(setQueryString),style:{flex:1}}),/*#__PURE__*/_jsx(Button,{className:classes.button,variant:\"contained\",color:\"primary\",disabled:!queryString,onClick:handleQuery,children:\"Query\"})]}),/*#__PURE__*/_jsx(ContentPaper,{variant:\"outlined\",children:messages.map(function(m,i){return/*#__PURE__*/_jsx(Typography,{variant:\"body2\",style:{color:m.color},children:m.message},m+i);})})]});};export default Body;","map":{"version":3,"sources":["/Users/DK/Projects/cardmongo/frontend/src/containers/Body.js"],"names":["useState","Button","FormControl","FormControlLabel","Paper","Radio","RadioGroup","styled","TextField","Typography","useStyles","axios","useScoreCard","Wrapper","section","Row","div","StyledFormControl","ContentPaper","Body","classes","messages","addCardMessage","addRegularMessage","addErrorMessage","name","setName","subject","setSubject","score","setScore","queryType","setQueryType","queryString","setQueryString","handleChange","func","event","target","value","handleAdd","post","data","message","card","handleQuery","get","params","type","input","width","button","flex","map","m","i","color"],"mappings":"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","sourcesContent":["import { useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Paper from '@material-ui/core/Paper';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport styled from 'styled-components';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\n\nimport { useStyles } from '../hooks';\nimport axios from '../api';\nimport { useScoreCard } from '../hooks/useScoreCard';\n\nconst Wrapper = styled.section`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst Row = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  padding: 1em;\n`;\n\nconst StyledFormControl = styled(FormControl)`\n  min-width: 120px;\n`;\n\nconst ContentPaper = styled(Paper)`\n  height: 300px;\n  padding: 2em;\n  overflow: auto;\n`;\n\nconst Body = () => {\n  const classes = useStyles();\n\n  const { messages, addCardMessage, addRegularMessage, addErrorMessage } =\n    useScoreCard();\n\n  const [name, setName] = useState('');\n  const [subject, setSubject] = useState('');\n  const [score, setScore] = useState(0);\n\n  const [queryType, setQueryType] = useState('name');\n  const [queryString, setQueryString] = useState('');\n\n  const handleChange = (func) => (event) => {\n    func(event.target.value);\n  };\n\n  const handleAdd = async () => {\n    const {\n      data: { message, card },\n    } = await axios.post('/api/create-card', {\n      name,\n      subject,\n      score,\n    });\n\n    if (!card) addErrorMessage(message);\n    else addCardMessage(message);\n  };\n\n  const handleQuery = async () => {\n    const {\n      data: { messages, message },\n    } = await axios.get('/api/query-cards', {\n      params: {\n        type: queryType,\n        queryString,\n      },\n    });\n\n    if (!messages) addErrorMessage(message);\n    else addRegularMessage(...messages);\n  };\n\n  return (\n    <Wrapper>\n      <Row>\n        {/* Could use a form & a library for handling form data here such as Formik, but I don't really see the point... */}\n        <TextField\n          className={classes.input}\n          placeholder=\"Name\"\n          value={name}\n          onChange={handleChange(setName)}\n        />\n        <TextField\n          className={classes.input}\n          placeholder=\"Subject\"\n          style={{ width: 240 }}\n          value={subject}\n          onChange={handleChange(setSubject)}\n        />\n        <TextField\n          className={classes.input}\n          placeholder=\"Score\"\n          value={score}\n          onChange={handleChange(setScore)}\n          type=\"number\"\n        />\n        <Button\n          className={classes.button}\n          variant=\"contained\"\n          color=\"primary\"\n          disabled={!name || !subject}\n          onClick={handleAdd}\n        >\n          Add\n        </Button>\n      </Row>\n      <Row>\n        <StyledFormControl>\n          <FormControl component=\"fieldset\">\n            <RadioGroup\n              row\n              value={queryType}\n              onChange={handleChange(setQueryType)}\n            >\n              <FormControlLabel\n                value=\"name\"\n                control={<Radio color=\"primary\" />}\n                label=\"Name\"\n              />\n              <FormControlLabel\n                value=\"subject\"\n                control={<Radio color=\"primary\" />}\n                label=\"Subject\"\n              />\n            </RadioGroup>\n          </FormControl>\n        </StyledFormControl>\n        <TextField\n          placeholder=\"Query string...\"\n          value={queryString}\n          onChange={handleChange(setQueryString)}\n          style={{ flex: 1 }}\n        />\n        <Button\n          className={classes.button}\n          variant=\"contained\"\n          color=\"primary\"\n          disabled={!queryString}\n          onClick={handleQuery}\n        >\n          Query\n        </Button>\n      </Row>\n      <ContentPaper variant=\"outlined\">\n        {messages.map((m, i) => (\n          <Typography variant=\"body2\" key={m + i} style={{ color: m.color }}>\n            {m.message}\n          </Typography>\n        ))}\n      </ContentPaper>\n    </Wrapper>\n  );\n};\n\nexport default Body;\n"]},"metadata":{},"sourceType":"module"}